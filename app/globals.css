@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
  }
}

/* KaTeX styles for math rendering */
.katex { font-size: 1.1em; }

/* Markdown styles */
.prose {
  @apply text-slate-700 dark:text-slate-300;
}

.prose h1 {
  @apply text-3xl font-bold mt-8 mb-4 text-slate-900 dark:text-white;
}

.prose h2 {
  @apply text-2xl font-bold mt-6 mb-3 text-slate-900 dark:text-white;
}

.prose h3 {
  @apply text-xl font-semibold mt-4 mb-2 text-slate-900 dark:text-white;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

/* Inline code only */
.prose :not(pre) > code {
  @apply bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-sm;
}

.prose pre {
  @apply bg-slate-100 dark:bg-slate-800 p-4 rounded-lg overflow-x-auto mb-4;
}

/* Top-level lists */
.prose ul {
  @apply list-disc list-outside mb-4 space-y-2 pl-6;
}

.prose ol {
  @apply list-decimal list-outside mb-4 space-y-2 pl-6;
}

/* Nested unordered lists */
.prose ul ul {
  list-style-type: circle;
  @apply mt-2 ml-4;
}

/* Optional: third level */
.prose ul ul ul {
  list-style-type: square;
}
.prose a {
  @apply text-blue-600 dark:text-blue-400 hover:underline;
}

@layer utilities {
  @keyframes wave {
    0%, 100% {
      transform: rotate(0deg);
    }
    10%, 30% {
      transform: rotate(14deg);
    }
    20% {
      transform: rotate(-8deg);
    }
    40% {
      transform: rotate(-4deg);
    }
    50% {
      transform: rotate(10deg);
    }
  }

  .animate-wave {
    animation: wave 2.5s infinite;
    display: inline-block;
    transform-origin: 70% 70%;
  }
}

/* Markdown checkbox styling */
.prose input[type="checkbox"] {
  margin-right: 0.5rem;
  width: 1rem;
  height: 1rem;
  cursor: pointer;
  accent-color: #3b82f6;
}

.prose ul li:has(> input[type="checkbox"]) {
  list-style-type: none;
}

.dark .prose input[type="checkbox"] {
  accent-color: #60a5fa;
}

html {
  scrollbar-gutter: stable;
}

.prose mark {
  @apply rounded bg-yellow-200;
}

.dark .prose mark {
  @apply rounded bg-yellow-500;
}

/* Center images inside markdown prose */
.prose img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  max-width: 100%;
  border-radius: 0.5rem;
}
